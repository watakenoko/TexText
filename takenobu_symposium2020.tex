\documentstyle[info-utf8]{jarticle}
%
% 著者の所属が1つの研究機関の場合の様式
%
%\author{情報太郎\Email{hokkaido@ipsj.or.jp}
%\hspace{5mm}情報次郎
%\hspace{5mm}情報三郎 \\
%(北大情報科学)\contactto{札幌市北区北14条西9丁目北海道大学大学院情報科学研究科}}
%
% 著者が複数の研究機関に所属する場合の様式
%
\author{%
\begin{tabular}{ccc}
武信雄平\Email{b1016127@fun.ac.jp} &
奥野　拓 \\
\multicolumn{2}{c}{%
(公立はこだて未来大学)\contactto{北海道函館市亀田中野町116番地2公立はこだて未来大学システム情報科学部}}
\end{tabular}}

\title{観光スポットと移動経路に対する嗜好を考慮した \\
観光ルート推薦システムの構築（仮）}

\begin{document}
\maketitle

\section{はじめに}\label{sec:はじめに}
土地勘のない観光客にとって，観光を快適に楽しむためには，事前に観光プランを作成することが重要である．
そのため，WebサイトやSNSを利用し，観光に必要な情報の収集や移動手段などを考慮したスケジュールの作成が必要となる．
しかし，WebサイトやSNSなどから観光に必要な情報を見つけることや，移動手段などを考慮してスケジュールを作成することは，観光客にとって負担が大きい．
そのため，観光客の負担が少ない観光プラン作成支援システムが必要である．
観光客に適した観光プランを作成するためには，観光スポットや移動経路に対する嗜好を考慮する必要がある．


本研究では満足度が高く，負担の少ない観光ルートを推薦することにより，観光客の満足度を向上させる．
そのために，観光客の観光スポットと移動経路に対する嗜好を考慮することにより，満足度が高く，負担の少ない観光ルートを生成することを目指す．

\section{観光ルートの自動生成に関する研究}\label{sec:観光ルートの自動生成に関する研究}
観光客の満足度向上を目的とした観光プランの自動生成システムの先行研究がある[1]．
この研究では，ユーザの観光スポットに対する嗜好をもとにした観光ルートの自動生成と，対話的なルート変更が可能なシステムを構築している．
このシステムでは，ユーザがレーダーチャートを操作することにより，自らの嗜好を直接入力する．
さらに，観光したい，もしくはしたくない場所をユーザが設定できる．
しかし，移動経路に対する嗜好は考慮されていない．
移動経路に対する嗜好とは，観光や移動にかける時間，費用などをどの程度重視するかのことである．


他に，ユーザの要求に合った観光ルートを選択するための意思決定を支援することを目的とした研究がある[2]．
この研究では，ユーザの嗜好と消費するリソースを考慮した複数の観光ルート提示手法を提案している．
この研究の提案手法では，観光の満足度とユーザが移動や観光地で消費するリソースを考慮し，パレート最適解となる観光ルートを生成する．
ここで挙げている消費リソースは，金銭，時間，体力の３項目である．
その後，生成した観光ルートを複数提示し，ユーザがその中からルートを選択する．
しかし，各項目に対して重みづけがされていないため，観光スポットと移動経路に対するユーザの嗜好の一部を強く優先したルートを生成できない．

% \section{観光ルート自動生成システム}\label{sec:観光ルート自動生成システム}
% 
% システムの流れは以下の通りである．
% \subsection{旅行情報の入力}\label{sec:旅行情報の入力}
% まず，観光を開始，終了する地点をユーザが

% \subsection{}\label{sec:旅行情報の入力}

\section{観光ルート自動生成アルゴリズム}\label{sec:観光ルート自動生成アルゴリズム}
% \ref{sec:観光ルート自動生成システム}節
本研究では，観光ルートを生成する際に観光スポットと移動経路に対するユーザの嗜好を反映したルートの自動生成を行う．
そのために，Debらが提案した進化的遺伝的アルゴリズムであるNSGA-I\hspace{-.1em}I\hspace{-.1em}Iと，そこで用いられている reference line の概念を用いた岸上らの研究を参考にアルゴリズムを作成する．
以下にアルゴリズムの流れを記述する．

\subsection{事前準備}\label{sec:事前準備}
まず始めに，各観光スポット毎に「自然」や「文化」などのテーマにどの程度該当するかを決定する．
また，ユーザにアンケートを実施し，観光スポットや移動経路に対する嗜好を推定する．
その後，観光の開始・終了地点，開始・終了時間を設定してもらう．
		
\subsection{初期解の作成}\label{sec:初期解の作成}
次に，1つの世代が有する解（観光ルート）の数Nを定義し，その数だけ観光ルートを作成する．
観光ルートを生成する手順は以下の通りである．
\begin{enumerate}
    \item 観光スポット全体からいくつかの観光スポットを選択する．
    \item その際，選択する観光スポット数の範囲は開始・終了時間に合わせて相対的に変更する．
    \item また，観光スポットはユーザの観光スポットに対する嗜好に合致するほど選択されやすくする．
    \item 選択された観光スポットを最短距離で結ぶルートをダイクストラ法を用いて求め，それを1つの解とする.
\end{enumerate}
これらの手順を繰り返し行い，N個の解を生成する

\subsection{交配}\label{sec:交配}
まず，事前に定義した reference point と，ユーザのアンケート結果から定義した reference point に，2で作成した解を1つずつ関連づける．
関連づけは，解とその解との垂直距離が最も短い reference line （原点と reference point を結んだ直線）に対して行う．
その後， reference line から1つをランダムに選択する．
選択された reference line に関連づけされた解が2つ以上ある場合，ランダムに2つを選択する．
その後，選択した解のinvertedPBIを比較し，その値が大きい解を親Aとする．
解が1つである場合は，その解を親Aとする．
解が存在しなかった場合，全ての解の中から垂直距離が最も短い解を親Aとする．	
ここで，親Aの観光スポット間をランダムに１つカットポイントとして設定する．
その後同様に reference line をランダムに1つ選択し，関連づけされた解からランダムに2つを選択する．
それら２つの解に対して親Aと同様にカットポイントを設定する．
ランダムに選ばれた解のinvertedPBIと，親Aとそれぞれの解のカットポイントを結び付けた際の最短経路の距離の和を考慮し，どちらか一方の解を親Bとする．
親A,Bをカットポイントで結合し，新たな解を作成する．

\subsection{突然変異}\label{sec:突然変異}
まず，親の解からランダムに１つを選択する．
次に増加変異，もしくは減少変異のどちらかをランダムに選択する．
増加変異の場合，ランダムに観光スポット１つを選択し，それを観光スポット間のランダムな位置に追加する．
減少変異の場合，ランダムに観光スポットを１つ削除する．

\subsection{生存競争}\label{sec:生存競争}
生存競争を行う前に，交配，突然変異で生成された解それぞれを reference line と関連づけする．
その後， reference line をランダムに１つ選択する．
その reference line に関連づけられている解の中からinvertedPBIが最も高い解を選択する．
選択した解を次の世代に引き継ぎ，選択された解の reference line との関連づけを削除する．
既に選択されたリファレンス以外から上記の手順を繰り返す．
全ての reference line が選択されたら，再度全ての reference line に対して，上記の手順を行う．
次世代の解の数がNに達した時点で終了する．

\subsection{ユーザによる解の評価}\label{sec:ユーザによる解の評価}
ここまでの\ref{sec:初期解の作成}節から\ref{sec:生存競争}節までを規定の世代に達するまで行う．
その後，各 reference line からいくつかをランダムに選択し，それぞれに関連づけられている解の中からinvertedPBIが最も大きな解を選択する．
選択された解をユーザに表示し，下記のいずれかを行ってもらう．
\begin{itemize}
    \item 表示したコースに決定する
    \item 他の解を表示する
    \item 表示したコースの改善したい箇所を選択し，ルートの生成を追加で行う
  \end{itemize}
「他の解を表示する」が選択された場合，まだ選ばれていない reference line から同様に解を選択し，ユーザに表示する．
「表示したコースの改善したい箇所を選択し，ルートの生成を追加で行う」が選択された場合，表示されているコースから好みのコースを選択する．
その後，ルートの改善して欲しい箇所をチェックボックスを用いて選択する．
選択された改善箇所を基に原点を移動させ，再び\ref{sec:交配}節から規定の世代数に達するまで解の生成を繰り返す．

\section{アルゴリズムの評価}\label{sec:アルゴリズムの評価}
\ref{sec:観光ルート自動生成アルゴリズム}章のアルゴリズムを用いて，観光ルート推薦システムを構築し，有用性を検証するために評価実験を行う．
評価方法として，被験者を半数に分け，片方が既存の手法で観光ルートを作成した後に，提案手法で観光ルートを作成する．
もう片方は逆の順番で観光ルートを作成する．
その後，被験者にどちらの観光ルートを利用したいかアンケートを実施する．
さらに，抽出した嗜好の中で，ユーザが重要視した評価項目に着目した定性的な比較評価も行う予定である．

\section{まとめ}\label{sec:まとめ}
本研究では，進化的遺伝的アルゴリズムであるNSGA-I\hspace{-.1em}I\hspace{-.1em}Iを用いて，観光スポットと移動経路に対するユーザの嗜好を反映したルートの自動生成とその評価を行う．
今後は\ref{sec:観光ルート自動生成アルゴリズム}章で述べたアルゴリズムを実装し，評価実験を行う．
その後，評価実験の結果を基にアルゴリズムの改善を行う．

% \section{はじめに}
% 情報処理学会北海道支部ではかねてより、情報処理北海道シンポジウムに
% 投稿される皆様の便宜をはかるために\LaTeX 用標準スタイルファイルを作成し、
% 皆様に配布することに致しました。

% この原稿は情報処理学会北海道支部から配布されるシンポジウム原稿作成
% 要領を\LaTeX によって作成したもので、シンポジウム用標準スタイルファ
% イルの使用例にもなっております。これを、よく御覧になったうえで、原稿を
% \underline{締切}までに作成されますようお願い致します。

% \section{どのようにして入手するか}
% スタイルファイルおよび申込書の\LaTeX ファイルは、情報処理学会北海道支部
% WWWホームページから入手できます。

% http://www.ipsj.or.jp/sibu/hokkaido/

% ブラウザから直接ダウンロードできるファイルは以下の４種類で、
% 漢字コード別に用意されています。
% \begin{enumerate}
% \item info.sty (原稿用スタイルファイル)
% \item sample.tex (この原稿の\LaTeX ファイル)
% \item form.tex (申込書の\LaTeX ファイル)
% \item form.sty (form.texのためのマクロ)
% \end{enumerate}

% \begin{figure}[h]
% \vspace{6.5cm}
% \caption{図は標準のパラメータより柔軟な配置ができるように設定してあります}
% \label{f1}
% \end{figure}

% \section{原稿の作成要領}

% \subsection{原稿の作成}
% 原稿の例はsample.tex(このファイル)に入っています。これを\LaTeX にかけることで
% 見本原稿が出来上がります。\LaTeX 以外で原稿を作成する場合は、この見本の寸法を
% 参考にして上下左右のマージンをとって下さい。

% \LaTeX で原稿を作成する場合は、sample.texを編集して原稿を作成して下さい。
% このスタイルファイルでは、Emailコマンドを指定することで著者のメールアドレスが、また、
% contacttoコマンドを指定することで連絡先の住所が、自動的に第1頁のフットノートとして記
% 入されます。

% もし、プリンタでの印刷位置が左右のどちらかにずれてしまう場合には、info.styファ
% イルの先頭にある水平オフセットの量を調整してみて下さい。

% \subsection{申込書の作成}
% 申込書はform.texというファイルと、form.styというマクロから作られます。
% このファイルをそのまま\LaTeX にかけますと、見本の申込書と同時に
% 申込要領が作成されます。

% つぎに、form.texのコメント文字列(\%\%$\ldots$\%\%)ではさまれた部分に見本として記
% 入された著者名や論文題名などのデータを、各自の原稿に合うように編集して下さい。これを
% \LaTeX にかけると提出用の申込書の出来上がりです。

% もし、手書き用の申し込み用紙を作成したい場合は、これらの著者名や論文題名などの
% データを定義するコマンドの行頭にコメントマーク(\% )を入れて\LaTeX にかけてください。

% \section{まとめ}
% 以上、情報処理学会北海道支部で作成したスタイルファイルと申込書の使い方を説明し
% てきました。このファイルを皆様の研究に役立てていただけますなら、作成者冥利に
% 尽きるというものです。

\begin{thebibliography}{99}
\bibitem{1} この後変更します
\bibitem{2} 情報処理学会北海道支部 WWWホームページ,
http://madeira.cc.hokudai.ac.jp/RD/takai/ipsjh.html, 1997.
\end{thebibliography}
\end{document}
%
%
% End of file: sample.tex
